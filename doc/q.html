<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Q Construct</title>
<meta name="Microsoft Theme" content="none">
<meta name="Microsoft Border" content="none">
</head>

<body>

<p align="center"><font size="5"><b>Q Construct<br>
</b></font>
<!--webbot bot="Navigation" S-Type="sequence" S-Orientation="horizontal" S-Rendering="graphics" B-Include-Home="FALSE" B-Include-Up="FALSE" U-Page="sid:1100" startspan --><nobr>[&nbsp;Construct&nbsp;]</nobr> <nobr>[&nbsp;<a href="qalgorithm.htm" target="">Algorithm</a>&nbsp;]</nobr><!--webbot bot="Navigation" i-checksum="64276" endspan --></p>

<p>The &quot;q-construct&quot; is being implemented on APRS-IS to add the following 
capabilities to the Internet APRS transport mechanism.</p>
<ul>
  <li>APRS-IS Entry Identification</li>
  <li>Support for a Future Authorization Algorithm</li>
  <li>Support for Loop Detection</li>
  <li>Support for Automatic Loop Protection</li>
  <li>Compatibility with Existing IGate and Client Software</li>
  <li>Only Server Support Needed for Implementation</li>
</ul>
<p>The currently defined q constructs are:</p>
<p>Server Generated:</p>
<ul>
  <li><b>qAC</b> - Packet was received from the client directly via a 
  verified connection (FROMCALL=login).&nbsp; The callSSID following the qAC is 
  the login of the client.</li>
  <li><b>qAX</b> - Packet was received from the client directly via a unverified 
  connection (FROMCALL=login).&nbsp; The callSSID following the qAX is the login of the client.&nbsp; 
  This construct is in addition to the TCPIP*/TCPXX* construct currently in 
  place.</li>
  <li><b>qAU</b> - Packet was received from the client directly via a UDP 
  connection.&nbsp; The callSSID following the qAU is the login of the server.</li>
  <li><b>qAS</b> - Packet was received from another server or generated by this 
  server.&nbsp; The latter case would be for a beacon generated by the server.&nbsp; 
  Due to the virtual nature of APRS-IS, use of beacon packets by servers is 
  strongly discouraged.&nbsp; The callSSID following the qAS is the login or IP 
  address of the 
  first identifiable server (see algorithm).</li>
  <li><b>qAr</b> - Packet was received indirectly (via an intermediate server) 
  from an IGate using the ,I construct.&nbsp; The callSSID following the qAr it the callSSID of the IGate.</li>
  <li><b>qAR</b> - Packet was received directly (via a verified connection) from 
  an IGate using the ,I construct.&nbsp; The callSSID following the qAR it the callSSID of the IGate.</li>
</ul>
<p>Client Generated:</p>
<ul>
  <li><b>qAR</b> - Packet is placed on APRS-IS by an IGate from RF.&nbsp; The 
  callSSID following the qAR it the callSSID of the IGate.</li>
  <li><b>qAZ</b> - Packet is generated by the server/client/IGate and should not 
  be propagated.&nbsp; The callSSID following the qAZ is the callSSID of the 
  server/client/IGate.</li>
  <li><b>qAI</b> - Trace packet.&nbsp; This packet tells each server to add 
  login identification to the packet.&nbsp; This packet starts with the callSSID 
  of the originating station following the qAI.&nbsp; See algorithm for more 
  details.</li>
</ul>
<p>Client generated q constructs will be verified if a new authorization 
algorithm is created.</p>
<p><b>Servers MUST have unique logins from any other server/IGate/client that 
insert data onto APRS-IS.</b>&nbsp; This is to prevent packets from being 
erroneously detected as looping.&nbsp; For instance, if my server's login is 
AE5PL and my weather client is AE5PL, my server will see ,qAC,AE5PL and consider 
this packet a looped packet.&nbsp; As logins can be any combination of 9 
alphanumeric characters, this should not pose a problem.</p>
<p>IGates which append IGATECALL,I to the end of packets and which are directly 
connected to a server which supports the q construct will have the IGATECALL,I 
converted to qAR,IGATECALL or qAr,IGATECALL to support the extended capabilities of the q 
construct.</p>
<p>Servers will have the ability to selectively enable tracing on all packets 
through server configuration.&nbsp; This must be used judiciously and only when 
a loop condition is suspected due to the increased bandwidth demands that 
tracing creates.</p>
<p>q constructs will only appear on APRS-IS and are not to be used elsewhere due 
to bandwidth considerations.</p>
<p>For example, this is what happens to a packet without a q construct which 
enters the system via a verified connection:</p>
<p>Original packet:<br>
AE5PL&gt;APRS,TCPIP*:payload</p>
<p>Packet leaving the serve if trace is off:<br>
AE5PL&gt;APRS,TCPIP*,qAC,AE5PL:payload</p>
<p>or, if trace is on:<br>
AE5PL&gt;APRS,TCPIP*,qAC,AE5PL,AE5PLjvs:payload</p>

</body>

</html>